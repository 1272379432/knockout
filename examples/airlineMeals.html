<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <title>Knockout Examples</title>
        <link rel="Stylesheet" href="styles.css" />
        <script type="text/javascript" src="../build/output/knockout-latest.min.js"></script>
    </head>
    <body>
        <div id="header">
            <div class="menu"><a href="../index.html">Home</a>|<a href="index.html">Examples</a>|<a href="http://github.com/SteveSanderson/knockout/downloads">Download</a></div>
            <a class="logo" href="../index.html"><img src="resources/knockout-logo.png" /></a>
        </div>
        <div id="main">
            <h1>Examples &raquo; Airline meals</h1>
            <p>
                A very simple example to go with the 
                <a href="http://github.com/SteveSanderson/knockout/wiki/introduction">introductory page</a>
                on the KO documentation wiki.
            </p>
            <hr />
            <h3>Meal upgrades</h3>
            <p>Make your flight more bearable by selecting a meal to match your social and economic status.</p>
            Chosen meal: <select data-bind="options: availableMeals, 
                                            optionsText: 'mealName',
                                            value: chosenMeal"></select>
            <p>
                You've chosen: 
                <b data-bind="text: chosenMeal().description"></b>
                (price: <span data-bind='text: formatPrice(chosenMeal().extraCost)'></span>)
            </p>
        </div>

        <script type="text/javascript">
            function formatPrice(price) {
                return price == 0 ? "Free" : "$" + price.toFixed(2);
            }
                    
            var availableMeals = [        	
                { mealName: 'Standard', description: 'Dry crusts of bread', extraCost: 0 },
                { mealName: 'Premium', description: 'Fresh bread with cheese', extraCost: 9.95 },
                { mealName: 'Deluxe', description: 'Caviar and vintage Dr Pepper', extraCost: 18.50 },
            ];
        
            var viewModel = { 
                chosenMeal: ko.observable(availableMeals[0])
            };

            ko.applyBindings(viewModel); // This makes Knockout get to work
        </script>
    </body>
</html>